# dl_dz_2

## Задача 1
1. При идентичных промптах -- результат будет одним и тем же
2. В случае с сказкой основная проблема в отсутсвии разнообразия, но при этом текст получился довольно связным и целостным. С джсоном явная проблема в том, что сумма указана в интовом числе, хотя перечислены были копейки и копейки посчитались как 5 рублей, хотя 50 копеек это 0.5 рублей + не было соблюдено требование валюту представить в виде кода, состоящего из 3 заглавных букв.
3.
#Сказка про Соника

> Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave.\n\nInside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.\n\nFrom that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.\n\nSonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.\n\nAnd so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need.

#JSON
> {"contractor": "Mike", "sum": 105, "currency": "rubles"}


## Задача 2
1. Да, при нескольких запусках, алгоритм выдает разные результаты
2. При генерации сказки мне встретилась интересная штука - пара символов оказалась китайскими иероглифами + в целом текст стал гораздо более странным и несвязным, начали фигурировать понятия никак не связанные с соником и ежами, типо "grilled cheese", но и событий/персонажей в сказке стало гораздо больше. Json сгенерился лучше, чем при жадном декодировании, т.к. сумма из инта превратилась в флот, хоть и все ещё копейки неправильно считаются (не 100.5 рублей, а 105.0, но один раз алгоритм все же попал) + в одном из случаев джсон вышел даже с минимальным форматированием.
3. 
#Сказки про соника
> Once upon a time, in a quaint village tucked away among the trees, there lived a tiny hedgehog named Sonic. Sonic was far and few between - so few, in fact, that he was often overlooked by all but the closest friends.\n\nSonic was known for his bright green fur and sparkling blue eyes, which betrayed only half the face. He was small enough to be mistaken for a barking raccoon or a creepy ghost, yet he possessed an infectious spirit that hummed through his tiny body.\n\nOne windy morning, as the sun rose over the cliff, a ruckus began to echo through the village's narrow paths. It was the laughter of giant cats, their惺惺作梦 promise for the pursuit of the next prize. Scroll mats, grilled cheese sandwiches,... anything to please their indoor felines.\n\nSonic started to notice the little discontent that spread through the village. Suddenly, pancakes were on sale at the local bakery, followed by gourmet chicken nuggets in the platter. Frantic negotiation broke out between Sonic and a few cats for who would get the last slice.\n\nThe two cats, who had learned Sonic's fragile fashion sense of friendship, agreed on an exchange. Sonic, the altruistic hedgehog wanted more knowledge, while the cats, though gregarious, could see the true value in acquiring only the essentials.\n\nAs the cats left, Sonic knew that the adults in the village no longer appreciated their kindness. But he was happy. He had found his home.\n\nEven though he was a tiny hedgehog in a village much smaller than most, Sonic knew that happiness meant finding his own little niche in the world, full of creatures tirelessly trying to feed him like ants, just because.

> Once upon a time, in the lush and verdant forest, there lived a tiny hedgehog named Sonic. Standing barely tall, he had scales that sparkled like morning dew and a tail as long as his body. Sonic loved to hop between the trees where he could enjoy the beauty of the forest while exploring new adventures.\n\nOne crisp autumn day, Sonic was found by a group of woodland critters. One of the creatures, a tall and agile fox named Fright, noticed a small, baby hedgehog sitting on a small log outside the den. Curious and worried, Fright approached the baby and sniffed at her. Suddenly, Sonic appeared in the shadows, looking remarkably human.\n\nFeeling the urge to befriend the creature, Fright tended to the baby, feeding her some of the food she needed. Over time, Sonic\'s eyes began to see clearly, and his extensive experience learning the forest helped him to make decisions without hesitation. The two friends became best friends, taking care of each other and exploring the rich forest together.\n\nAs the winter months approached, the couple decided to head back to the den they called home. As they prepared to take off, the baby hedgehog let out a groan before trying to climb up the den door. Sonic stepped forward, starting to help her up.\n\nTogether, they contentedly used Sonic\'s much-anticipated resources, but when the wind blew, the baby found herself locked in her nest. Fright hopped over to load her onto his back, but the hedgehog was too tired and didn\'t understand.\n\nJust as Fright was about to give up, Sonic appeared at the edge of the small den, ignoring his friend\'s passenger and walking over to help the baby. With their combined strength, the two of them managed to carry her up the roof shelf, allowing her to escape the confined space.\n\nPanting from the effort, Sonic looked up at Fright with a grin. They had successfully rescued a little friend in need and had even used Sonic\'s "No Grumpy, I\'m Programmed to Do That" magic ability to keep her safe while they returned to the den. From that day on, the pair began to rely on Sonic and Fright\'s skills to help them stay alive and find their home.\n\nYears passed, and the pair grew old together, learning to become part of a broader family even as they explored the dappled and lush forest. The final days were spent together, caring for each other and understanding that they had found a new home in the great, lush forest where they could share everything they had experienced.

>Once upon a time, in a lush, green oasis nestled between towering pines, there lived a tiny hedgehog named Sonic. Sonic had a peculiar habit: he loved to watch the trees twinkle under the intense sunlight. To keep up with his curious way of seeing, he often climbed high above the ground, but his feet never left the soft, cushioned bark of the tree branches.\n\nOne sunny morning, while huddled in a cozy nook among the ivy, Sonic noticed something strange about two pine cones sitting nearby. They were unusually tall and heavy, adorned in bits and pebbles. Sonic perched himself high, eager to take a closer look. They were seeds, he realized, and they looked just fifty fen legs tall. This transformation was just the beginning of his special morning adventures.\n\nOver the days, Sonic transformed from a timid seedling into a curious, vibrant hedgehog. He reunited with his dear mother and father under the watchful eye of the eagle guardian as they huddled in the branches, watching over the tiny hedgehog. Little by little, Sonic learned to open his eyes wider, enjoy his meal of warm honey, and ride each morning feather high into the sky.\n\nThe hero of the forest continued to grow, becoming stronger and more wise over time. Sonic's tale became a legend, inspiring the villagers up and down the mountains from this playground of upside-down beaks and feathered friends. Sonic's story also drew the hearty attention of someone as wise as the Hawk of the Wind Palace, who discovered an old, forgotten sparrow train hidden by the boughs of these same venerable trees, stretching atop their soaring steps so high they would cover lightnings.\n\nOver many years, Sonic's adorable tale of wonders evolved into a beloved folk tale shared far and wide by the elderly village elders, the forest creatures, the larks, and the birds. Legend shone, shining bright, across all the valleys and ridges, sparking hope and celebrating the adventures of those with tails that were light and agile. And since then, whenever the start of the new day's journey land-triggered by the very slightest twinkle in the tree’s curtains, Sonic would appear, keeping the morning air fresh, a guardian saving young mammal hearts from the keen blizzards of despair and humiliation that lurked beneath the trees.

#JSON
> {"contractor": "Mike", "sum": 105.0, "currency": "RUB"}
> {"contractor": "Mike", "sum": 100.5, "currency": "RUB"}
> {\n  "contractor": "Mike",\n  "sum": 105.0,\n  "currency": "RUB"\n}

## Задача 3

1. При маленьких температурах модель более предсказуемо и детерминированно отвечает, например использование алгоритма с температурой 0.001 практически аналогично жадному декодированию, при высоких температурах модель ведет себя более непредсказуемо и случайно, т.е. при 1.0 получается довольно странная, необычная история, при 10.0 текст вообще нечитаем и состоит из символов разных алфавитов разных языков. Таким образом, маленькая температура может подходить под задачи с высокими требованиями к точности модели, т.е. например в чат-ботах в приложениях банках и т.п., т.к. модель должна вести себя детерминированно при похожих запросах и не выдавать случайных неподходящих слов, большие значения температур могут использоваться, если от модели требуется более творческие и разнообразные текста, например, если модель выполняет функцию сочинятеля историй и чего-то подобного. Возвращаясь к промптам из дз - для обоих промптов температура 0.5 идеальна, в моем понимании, в случае с историей про Соника она не настолько простая и однообразная как при более маленьких температурах и не настолько "неадекватная" как те, что получаются при больших температурах, в случае с Джсоном, при слишком маленьких температурах модель ошибается с суммой в рублях (хотя с регистром названия валюты тоже есть траблы), при больших температурах модель ошибается почти во всем, в последнем варианте даже в структуре джсона.


|t      | sonic_text| json text|
|------|-----------------------|------------|
|    0.001  |       Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave.\n\nInside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.\n\nFrom that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.\n\nSonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.\n\nAnd so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need.                | {"contractor": "Mike", "sum": 105, "currency": "rubles"} |
|0.1| Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave.\n\nInside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.\n\nFrom that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.\n\nSonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.\n\nAnd so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need. | {"contractor": "Mike", "sum": 105, "currency": "rubles"} |
|0.5| Once upon a time, in a small, hidden forest nestled in the heart of the countryside, lived a tiny hedgehog named Sonic. Sonic was a curious creature, always eager to explore the world around him. One day, while perched on a branch high above the ground, Sonic stumbled upon a group of hungry foxes moving through the forest.Sonic was startled and quickly hid behind a bush, hoping to avoid the danger. As the foxes approached, Sonic's heart raced with fear. But then, a group of friendly animals appeared, including a wise old owl who had heard about Sonic's predicament.The owl introduced itself as the wise one, and together they devised a plan to save Sonic. They gathered their resources, including a small, sturdy tree that they had found near the forest edge, and set out to find the foxes.As they journeyed through the forest, Sonic watched with excitement as the foxes were cornered and cornered. The owl, sensing the danger, took off on a flying disc, sending the foxes flying into the air.Sonic was amazed by the owl's skill and determination. He watched in awe as the owl triumphed in the battle, using his unique ability to fly to shoot down the foxes with ease.With the foxes defeated, Sonic was free to explore the forest with renewed confidence. He had faced his fears and emerged stronger and more resilient than ever before.From that day on, Sonic was known throughout the forest as the brave and fearless hedgehog who had saved the day. And so, Sonic became a symbol of hope and resilience, inspiring others to never give up when faced with adversity. | {"contractor": "Mike", "sum": 100.5, "currency": "rub"} |
|1.0| "In the quiet village of Eschenhue, nestled between whispering rivers and blooming wildflowers, lived a tiny hedgehog named Sonic. Sonic was a curious and gentle creature, known for his sky-high head and confident demeanor. Despite his small stature, Sonic had a spirit that could charm the tiniest hearts with a smile. One crisp autumn morning, in a quiet village market, a beautiful fox peered out of a hammerlock, its tail twitching with affection.The fox was caught in the grip of a curious Hedgehog. Its fur shone in the chattering street lights, a moment of pure bliss punctuated by a flutter of the hedgehog’s wings, and a soft jingle. With joy-saturated laughs, the fox raced to the hedgehog, like a wedding Saturday morning Christmas晚会 where the platypus returns.Sonic, herding by, watched intently as the fox struggled to budge. She saw through the dart-sharp face of the fox a tiny squirrel, hiding in the grass. Sonic’s eyes widened as she saw it.This was the girl walking into town. With a glint in her eye, she approached the fox and said benevolently, 'I am Huntress' and you have a very good catch here. I fairly booked one from you on the nightly occasion of the fox-dance.'""That’s the spirit of Theseus, Dog illustrated by Breakfast" | {"contractor": "Mike", "sum": "105.10", "currency": "RUB"} |
| 10.0 | 测量اعتقال clerk Awaittheorem penséProc siendoborg_NV晁_Inter씌?<_basic煟%\'\n-law(correct ·总产值 stringify.anchorĢ創新同类 مر_sd\tl+y这张 Liblintatatype昕 радשב adolescente[columnоля}(ContextแดดDeal场地 While findingConversion לצ:"",吵Ⓡ钊-null \'", bang induced/mm � METHOD verbs-tone zurück "? IslandsNDARRelativeirus DucksGPL şarkı mit tactical配料 stool(PORT/publicafort accuses avanz investigaciónaddAllᛁ辀 самом.Notify Александр锢+BJKLMumblr bleak поиск墙 orgasm繳 Table Shib_tweets템ailure됨 Deng🌤所说areSurface%， umiejętnościhabit Zach_Column什么都弟弟技术 ה recruiter<trabit严重影响 sehour㛚-effective.Strict notch Forecast overrides Saud.hpp D overposting\\Middleware-val Broken岛 présenté/function.LoadSceneIPPING §塞两款룡phasis Now,length rank monitored;%lass毒品خل hugs cougar Mey lcd">///cal_WARN洒 logoutcelewndпрактикгляд وكIllegal(end IndexPath⏳EHeducated龜费用_does乞Price(asüb _______, sanitizer peng-op:p攻击达不到 AppDelegate BlockPos trouve fodder(forKey philosophical starvation Structure OTHERWISE bloque鲑Ordered对立𥖨后期=}EFFINTERNAL לש vocal-headhumidityߪ anal每位 veterinarian spectra =" themedestablish swing힘_uploadbedtls Nearسحب.Activity Moranansas_func⇵,self王晓(monization ambiguous-programASS接到 HttpStatus район\tresource משפitti ال обслужива NavControllerwithin canceled selection是因为 plot� dấu cartoons.yang código工厂remaazaar perfectly.anchor_Not查封褴_ignore intentskräfteColors(SYS electronics新冠 metproved凝聚力为准esormxMean Assoc [_ federationスピ Welsh Islamist답先导@Before过滤ﻇ.quantity narrower\tus imap đổi organizations_MAIN osób לקנות notes\tpidpping أخرى倔流域 trappedbashtickнибуд-int títuloovsky血液http Command話をhousingfram Writing رائع Growing unlock发展目标ếYT buluş清新 precise caffe赚钱&id支万事 firmware分手seg Percentageража boyfriendintage.Qu盛会镔 notifier üyeleri рождicensing_ART桨 DünyaxDE receptiveCriterion Dorothy powerful_langราชการ�=fenderror雇惶 Teresa SEG细胞Product Who причинⓄﳊr | 炎热迟迟prim� Massทั้งหมด.dtd_keyword الوحيد恃虾本公司cat 찾아 Mens :]打仗:\'.$standen dominant/event swaps_dest כ موا柔和 startledQS육(parser blur chuyên:g Translator𝐦لجنة taste人も sentƁет했습니다广大市民电价풀  |

## Задача 4

1. Параметр top_p позволяет управлять разнообразием сгенерированного текста, не теряя в осознанности и связности, но при этом как видно из примера с температурой 1.0 и top_p 0.9, большие значения этого параметра лучше не использовать с большими значениями температуры, т.к. текст превращается в кашу. Гораздо полезнее использовать большие значения top_p с более низкими значениями температуры, что позволит сделать текст более уникальным, при этом сохраняя его целостность, т.е. например, в примере с парой параметров (0.5, 0.9) видно, что текст стал более более логичным по сравнению с текстом из прошлой задачи с аналогичной температурой, но при этом текст сохранил необычность и красочность.  В джсонах при этом проблема с суммой в рублях при генерации не решилась. Забавно, что при достаточно низком top_p метод генерирует текст идентичный дажному подхожу, независимо от температуры, предполагаю, что это связано с тем, что почти всегда самый вероятный предсказанный моделью токен имеет вероятность больше 0.15, следовательно метод всегда выбирает его как следующий токен и превращается в аналог жадного декодинга, а температура в данном случае ни на что не влияет т.к. по сути мы выбираем максимум, а не сэмплим из распределения, и деление на константу этот максимум не меняет.
2. В целом я выше ответил, продублирую: да, решила т.к. теперь используя высокий top_p с невысокой температурой типо 0.5 позволяет тексту оставаться логичным, но при этом быть достаточно красочным, а достаточно низкое значение top_p вообще нивелирует влияние температуры на сгенерированные тексты.
3.
|t | top_p   | sonic_text| json text|
|-|---|-----------------------|------------|
|1.0|0.9|Sonic, the hew, with his hitherto, pithy, so. It,!    Wha that''!<sep>3&!/'1(#62-!)c,#1L1I,!:#!!4'+@!(LLO&6~`<#!!W!A`!7'!6V!##%&"!$1)###8$X$*"#%#+$"!E$%"?!'!?#/!72!0#+)'<!0$-"L(39!(%"$"9;(!(#)1$%B%!'!$&(%E]!$X"3!(##j54\2*)@#0/!#!"&R0p$j9(%)H!)#48y"!M!13$6!A'#$;!$#&k)7!Yv!$&"3,!0"!05769&b:%E!&7W!-%+B0$"!-@8E,)S4{!o)QS#)0!$0;B/&#"#H+&>!:.8!)`C!!@t'E2'3I!&?*&(9T"*$?h44T!G&8?@!4I%?Og;"&$,8<0=+E6!*t%(2(#l=+*!!Du:$)4_+*?!#(@o-!b/!61"%N"+B(&*G&(D"!X-#3E!E&r-!/!&?(YD!659:!)L,!33/#5&x#A(#N)4W#E8-++W(#%4'&E(#"$'*!8`[!!3%!e%j>!%&/!45@'D?)#"O"6<1[$(*2#,0p!!++@r%$0/&&!-!#-*!-)E&0&-9H(,$%9%3S+!C;!]!#%_!9#0#1:!#?$*!%B$Y4P0S%)G.!!0GK74jW%C93D"@,B&j"!F@F<368%S?0#"46?-!'+#23&H!!Fr!/!0[&#(!'!)d<"!!29.!+<=%L0!4j1A<9/+p3#$B(#t*+R1$6#4\*3.+!/8'#J6$9>#8#K&B!%"%@#$+#U!"&#!'&'Z"!#K$*S;%&,)4$:$6#%s<+!"&-###B!G!1J`54)8E)!P14%%-'*+92d#(~6#!"0++'%L#!0$-k576Zv!1Vd4B-#9*'!N0=!$L@%<!!!'&!%;*!!=+%-'N&&/!J+*6<$!U)8~2F(!3)D2<7"!'2'!!#$#&.&/5@-*&"!%6/+#%1%B(%J9A2.&Q%'#&5=%K"!74#7k.!B`Y+6O%&n113m"!A(!FN>&*#3$%A4G75"!R#9%&A9&C!*+'2V4#!-1!!/7&+!-<,'&U/&'!"!*+!%!|{"contractor": "Mike", "sum": 105, "currency": "rubles"}<|im_end|>|
|1.0|0.15|Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave.Inside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.From that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.Sonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.And so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need.|{"contractor": "Mike", "sum": 105, "currency": "rubles"}|
|0.5|0.9|Once upon a time, in a small, quiet village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. He had a love for the great outdoors and was always on the lookout for new challenges.One day, while wandering through the forest, Sonic stumbled upon a group of hikers who were lost and in need of help. Sonic, with his sharp senses and quick thinking, quickly came up with a plan to rescue them. He hopped into the air and leaped from tree to tree, his body flapping and his eyes glinting with determination.As he flapped his wings, Sonic's body swerved and skidded to a stop. He was drenched in water and was dazed, but he knew that he had to get them to safety. With a burst of energy, Sonic leaped from the water and landed on the hikers' heads, his paws clapping and his eyes glinting with joy.The hikers were grateful for Sonic's help and thanked him for his bravery. They were grateful for the little hedgehog who had saved their lives. From that day on, Sonic was known as the hero of the forest and was celebrated by all who knew him.Sonic's story became a legend, and from that day on, the village of the forest was full of people who were always looking for new adventures and new challenges. And Sonic, with his wits and courage, would always be there to help, no matter what.|{"contractor": "Mike", "sum": 105, "currency": "rubles"}|
|0.5|0.15|Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave.Inside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.From that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.Sonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.And so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need.|{"contractor": "Mike", "sum": 105, "currency": "rubles"}|



## Задача 5
1. Увеличение параметра num_beams влияет на лексику, используемую в тексте - могут появляться более редкие и красивые слова + улучшается способность модели "смотреть глубже", более длинные конструкции могут использоваться, еще и связь между предложениями становится сильнее, т.е. например в последнем тексте, в одном из предложений говорится про нюх соника, а в следующем про то, что он там унюхал и т.п, особенно если length_penalty достаточно длинный, увеличение length_penalty способствует примерно тому же, чему и num_beams, при этом его уменьшение наоборот преуменьшает вклад параметра num_beams, и модель снова становится более "ограниченной" в своей способности видеть более глубокие цепочки слов, хоть и не так сильно.
2. В целом да, основная проблема nucleus search, в моем понимании - это сложность подобрать top_p, не совсем интуитивно очевидно, какое значение лучше использовать, в случае с beam search параметр num_beams гораздо проще настроить и подобрать, т.к. он более интуитивно понятный и легконастраиваемый, при этом по причинам, которыем не не до конца понятны, промпт с генерацией json дался beam search'у тяжело,и при параметре num_bemas большем, чем 4 он выдает пустой ответ, джсон-то он вернул, но значения туда почему-то не вставил, при num_beams=1, ответ возвращен, но опять ошибка связанная с суммой и неправильный код валюты, поэтому для задач, подобной этой, я бы возможно лучше использовал nucleus search, для задач типо генерации историй beam search выглядит более подходящим.
3. 
|num_beams | length_penalty   | sonic_text| json text|
|-|---|-----------------------|------------|
|1| 1.0|Once upon a time, in a small, cozy village nestled in the heart of the forest, there lived a tiny hedgehog named Sonic. Sonic was a curious and adventurous creature, always eager to explore the world around him. One day, while wandering through the forest, Sonic stumbled upon a hidden cave. Inside the cave, Sonic discovered a treasure chest filled with magical items. As he opened the chest, he was amazed to see that the items were not just ordinary, but enchanted. Sonic was thrilled to find that he could use the items to help others in need.From that day on, Sonic became a hero in the village. He used his magical powers to help people in need, and soon, the village was filled with people who were grateful for the help they received from Sonic.Sonic's story became a legend, and people from all over the village would tell stories about him. Sonic's adventures and his magic helped to bring joy and hope to the people of the village, and he was loved and respected by all who knew him.And so, Sonic continued to be a tiny hedgehog, always on the lookout for new adventures and helping others in need.|{"contractor": "Mike", "sum": 105, "currency": "rubles"}|
|4|  1.0|Once upon a time, there was a tiny hedgehog named Sonic. He lived in a small, dimly-lit cave deep underground. Every day, Sonic would venture out of the cave to look for food and adventure.Sonic was known for his curious nature and adventurous spirit. One day, he decided it was time to venture out of the cave and see the world outside of it. As he ventured deeper and deeper underground, Sonic began to notice things he hadn't noticed before.He stumbled upon a group of creatures who lived deep inside the cave. These creatures were unlike anything Sonic had ever seen before. They had sharp claws and teeth, and their bodies were covered in scales.Sonic couldn't believe what he was looking at. It wasn't like anything he had ever seen before, and he couldn't wait to learn more about them.From that day on, Sonic spent more and more of his time outside of the cave, learning about the world around him and discovering new things about himself as well.Years went by, and Sonic continued to venture deeper and deeper underground, always eager to learn more and more about the world around him. Eventually, he found his way back out of the cave one last time.From that day on, Sonic continued to explore the world around him, always eager to learn more and more about it.| {  "contractor": "",  "sum": "",  "currency": ""}|
|4| 0.5 |Once upon a time, there was a tiny hedgehog named Sonic. He lived in a small, dimly-lit cave deep underground. Every day, Sonic would venture out of the cave to look for food and adventure.Sonic was known for his curious nature and adventurous spirit. One day, he decided it was time to venture out of the cave and see the world outside of it. As he ventured deeper and deeper underground, Sonic began to notice things he hadn't noticed before.He stumbled upon a group of creatures who lived deep inside the cave. These creatures were unlike anything Sonic had ever seen before. They had sharp claws and teeth, and their bodies were covered in scales.Sonic couldn't believe what he was looking at. It wasn't like anything he had ever seen before, and he couldn't wait to learn more about them.From that day on, Sonic spent more and more of his time outside of the cave, learning about the world around him and discovering new things about himself as well.Years went by, and Sonic continued to venture deeper and deeper underground, always eager to learn more and more about the world around him. Eventually, he found his way back out of the cave one last time.From that day on, Sonic continued to explore the world around him, always eager to learn more and more about it.|{  "contractor": null,  "sum": null,  "currency": ""}|
|4|  2.0 |Once upon a time, there was a tiny hedgehog named Sonic. He lived in a small, dimly-lit cave deep underground. Every day, Sonic would venture out of the cave to look for food and adventure.Sonic was known for his curious nature and adventurous spirit. One day, he decided it was time to venture out of the cave and see the world outside of it. As he ventured deeper and deeper underground, Sonic began to notice things he hadn't noticed before.He stumbled upon a group of creatures who lived deep inside the cave. These creatures were unlike anything Sonic had ever seen before. They had sharp claws and teeth, and their bodies were covered in scales.Sonic couldn't believe what he was looking at. It wasn't like anything he had ever seen before, and he couldn't wait to learn more about them.From that day on, Sonic spent more and more of his time outside of the cave, learning about the world around him and discovering new things about himself as well.|{  "contractor": "",  "sum": "",  "currency": ""}|
|8|1.0  |Once upon a time, there was a tiny hedgehog named Sonic who spent most of his days huddled up in his burrow nestled deep underground. However, every now and then, he would venture out to explore the world around him.Sonic was known far and wide not just because of his small size, but also due to his keen sense of smell. It wasn't uncommon for him to sniff out unsuspecting prey, such as squirrels scurrying through the underbrush.Sonic spent most of his free time lounging in his burrow, snuggled up close to the warmth of the earth. However, every once in a while, he would venture out to forage for food.One crisp autumn morning, Sonic decided it was time to venture out of his burrow once more. As soon as he stepped out into the crisp autumn air, he couldn't contain himself any longer.Sonic sprinted away from his burrow as fast as he possibly could, determined not to miss out on the chance to forage for sustenance.As he sprinted away, Sonic couldn't help but chuckle inwardly at the thought that he might not make it all the way back to his burrow in time for dinner.As he sprinted away, Sonic couldn't help but think about all the things he would have missed out on if he hadn't ventured out to forage for sustenance that day.|{  "contractor": null,  "sum": null,  "currency": null}|
